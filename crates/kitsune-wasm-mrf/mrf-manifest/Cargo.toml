[package]
name = "mrf-manifest"
authors.workspace = true
edition.workspace = true
version.workspace = true
license.workspace = true

[dependencies]
ahash = { version = "0.8.10", features = ["serde"] }
miette = { version = "7.1.0", optional = true }
olpc-cjson = { version = "0.1.3", optional = true }
schemars = { version = "0.8.16", features = ["impl_json_schema", "semver"] }
semver = { version = "1.0.22", features = ["serde"] }
serde = { version = "1.0.197", features = ["derive"] }
serde_json = { version = "1.0.114", optional = true }
thiserror = { version = "1.0.57", optional = true }
wasmparser = { version = "0.201.0", optional = true }

[dev-dependencies]
insta = { version = "1.35.1", default-features = false, features = ["json"] }

[features]
parse = ["dep:miette", "dep:serde_json", "dep:thiserror", "dep:wasmparser"]
serialise = ["dep:olpc-cjson", "dep:serde_json"]
