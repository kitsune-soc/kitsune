[package]
name = "athena"
authors.workspace = true
edition.workspace = true
version.workspace = true
license = "MIT OR Apache-2.0"

[[example]]
name = "basic_queue"
required-features = ["redis"]

[dependencies]
ahash = "0.8.11"
async-trait = "0.1.80"
either = { version = "1.11.0", default-features = false, optional = true }
futures-util = { version = "0.3.30", default-features = false }
iso8601-timestamp = "0.2.17"
just-retry = { path = "../just-retry" }
multiplex-pool = { path = "../multiplex-pool", optional = true }
once_cell = { version = "1.19.0", optional = true }
rand = { version = "0.8.5", optional = true }
serde = { version = "1.0.201", features = ["derive"] }
simd-json = { version = "0.13.10", optional = true }
smol_str = "0.2.1"
speedy-uuid = { path = "../speedy-uuid", features = ["redis", "serde"] }
thiserror = "1.0.60"
tokio = { version = "1.37.0", features = ["macros", "rt", "sync"] }
tokio-util = { version = "0.7.11", features = ["rt"] }
tracing = "0.1.40"
triomphe = { version = "0.1.11", features = ["unsize"] }
typed-builder = "0.18.2"
typetag = "0.2.16"
unsize = "1.1.0"

[features]
redis = [
    "dep:either",
    "dep:multiplex-pool",
    "dep:once_cell",
    "dep:rand",
    "dep:simd-json",
]

[dev-dependencies]
kitsune-test = { path = "../../crates/kitsune-test" }
tracing-subscriber = "0.3.18"

[lints]
workspace = true
